-- STAN UI v3.0 - NO KEY SYSTEM
-- Direct load, walang key needed!
-- Upload this to GitHub then use loadstring

local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")
local Player = Players.LocalPlayer

-- Create GUI
local gui = Instance.new("ScreenGui")
gui.Name = "STAN_UI_V3"
gui.ResetOnSpawn = false
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

if syn and syn.protect_gui then
    syn.protect_gui(gui)
    gui.Parent = game:GetService("CoreGui")
elseif gethui then
    gui.Parent = gethui()
else
    gui.Parent = Player:WaitForChild("PlayerGui")
end

-- MAIN FRAME
local main = Instance.new("Frame")
main.Name = "Main"
main.Size = UDim2.new(0, 650, 0, 410)
main.Position = UDim2.new(0.5, -325, 0.5, -205)
main.BackgroundColor3 = Color3.fromRGB(18, 18, 25)
main.BorderSizePixel = 0
main.Parent = gui

Instance.new("UICorner", main).CornerRadius = UDim.new(0, 12)

-- TOP BAR
local topBar = Instance.new("Frame")
topBar.Size = UDim2.new(1, 0, 0, 70)
topBar.BackgroundColor3 = Color3.fromRGB(147, 51, 234)
topBar.BorderSizePixel = 0
topBar.Parent = main

Instance.new("UICorner", topBar).CornerRadius = UDim.new(0, 12)

local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(147, 51, 234)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(219, 39, 119)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(59, 130, 246))
}
gradient.Parent = topBar

spawn(function()
    while topBar and topBar.Parent do
        gradient.Rotation = gradient.Rotation + 1
        task.wait(0.05)
    end
end)

-- PFP
local pfp = Instance.new("ImageLabel")
pfp.Size = UDim2.new(0, 46, 0, 46)
pfp.Position = UDim2.new(0, 14, 0, 12)
pfp.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
pfp.BorderSizePixel = 0
pfp.Parent = topBar

Instance.new("UICorner", pfp).CornerRadius = UDim.new(1, 0)

pcall(function()
    pfp.Image = Players:GetUserThumbnailAsync(Player.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size150x150)
end)

-- Status
local status = Instance.new("Frame")
status.Size = UDim2.new(0, 12, 0, 12)
status.Position = UDim2.new(1, -10, 1, -10)
status.BackgroundColor3 = Color3.fromRGB(34, 197, 94)
status.BorderSizePixel = 0
status.Parent = pfp

Instance.new("UICorner", status).CornerRadius = UDim.new(1, 0)

-- Display Name
local displayName = Instance.new("TextLabel")
displayName.Size = UDim2.new(0, 280, 0, 20)
displayName.Position = UDim2.new(0, 68, 0, 16)
displayName.BackgroundTransparency = 1
displayName.Font = Enum.Font.GothamBold
displayName.Text = Player.DisplayName
displayName.TextColor3 = Color3.fromRGB(255, 255, 255)
displayName.TextSize = 15
displayName.TextXAlignment = Enum.TextXAlignment.Left
displayName.Parent = topBar

-- Username
local username = Instance.new("TextLabel")
username.Size = UDim2.new(0, 280, 0, 16)
username.Position = UDim2.new(0, 68, 0, 36)
username.BackgroundTransparency = 1
username.Font = Enum.Font.Gotham
username.Text = "@" .. Player.Name
username.TextColor3 = Color3.fromRGB(220, 220, 255)
username.TextSize = 11
username.TextXAlignment = Enum.TextXAlignment.Left
username.Parent = topBar

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(0, 140, 0, 70)
title.Position = UDim2.new(1, -150, 0, 0)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.Text = "STAN"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextSize = 22
title.Parent = topBar

-- Close Button
local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0, 32, 0, 32)
closeBtn.Position = UDim2.new(1, -38, 0, 19)
closeBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
closeBtn.BackgroundTransparency = 0.9
closeBtn.BorderSizePixel = 0
closeBtn.Font = Enum.Font.GothamBold
closeBtn.Text = "‚úï"
closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
closeBtn.TextSize = 15
closeBtn.Parent = topBar

Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 6)

-- Minimize Button
local minBtn = Instance.new("TextButton")
minBtn.Size = UDim2.new(0, 32, 0, 32)
minBtn.Position = UDim2.new(1, -73, 0, 19)
minBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
minBtn.BackgroundTransparency = 0.9
minBtn.BorderSizePixel = 0
minBtn.Font = Enum.Font.GothamBold
minBtn.Text = "‚îÄ"
minBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
minBtn.TextSize = 16
minBtn.Parent = topBar

Instance.new("UICorner", minBtn).CornerRadius = UDim.new(0, 6)

-- Tabs Container
local tabs = Instance.new("Frame")
tabs.Size = UDim2.new(0, 145, 1, -80)
tabs.Position = UDim2.new(0, 8, 0, 75)
tabs.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
tabs.BorderSizePixel = 0
tabs.Parent = main

Instance.new("UICorner", tabs).CornerRadius = UDim.new(0, 10)

local tabLayout = Instance.new("UIListLayout")
tabLayout.Padding = UDim.new(0, 5)
tabLayout.Parent = tabs

local tabPadding = Instance.new("UIPadding")
tabPadding.PaddingTop = UDim.new(0, 8)
tabPadding.PaddingLeft = UDim.new(0, 8)
tabPadding.PaddingRight = UDim.new(0, 8)
tabPadding.Parent = tabs

-- Content Container
local content = Instance.new("Frame")
content.Size = UDim2.new(1, -168, 1, -80)
content.Position = UDim2.new(0, 158, 0, 75)
content.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
content.BorderSizePixel = 0
content.Parent = main

Instance.new("UICorner", content).CornerRadius = UDim.new(0, 10)

-- Minimized Frame
local minFrame = Instance.new("TextButton")
minFrame.Size = UDim2.new(0, 100, 0, 42)
minFrame.Position = UDim2.new(0.5, -50, 0.5, -21)
minFrame.BackgroundColor3 = Color3.fromRGB(147, 51, 234)
minFrame.BorderSizePixel = 0
minFrame.Font = Enum.Font.GothamBold
minFrame.Text = "STAN"
minFrame.TextColor3 = Color3.fromRGB(255, 255, 255)
minFrame.TextSize = 18
minFrame.Visible = false
minFrame.Active = true
minFrame.Draggable = true
minFrame.Parent = gui

Instance.new("UICorner", minFrame).CornerRadius = UDim.new(0, 10)

-- Controls
minBtn.MouseButton1Click:Connect(function()
    main.Visible = false
    minFrame.Visible = true
end)

minFrame.MouseButton1Click:Connect(function()
    main.Visible = true
    minFrame.Visible = false
end)

closeBtn.MouseButton1Click:Connect(function()
    gui:Destroy()
end)

-- Dragging
local dragging, dragInput, dragStart, startPos

topBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = main.Position
    end
end)

UIS.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

UIS.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        main.Position = UDim2.new(
            startPos.X.Scale, startPos.X.Offset + delta.X,
            startPos.Y.Scale, startPos.Y.Offset + delta.Y
        )
    end
end)

-- Tab System
local function clearContent()
    for _, v in pairs(content:GetChildren()) do
        if v:IsA("GuiObject") then
            v:Destroy()
        end
    end
end

local function makeTab(name, icon, order)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 38)
    btn.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
    btn.BorderSizePixel = 0
    btn.Font = Enum.Font.GothamBold
    btn.Text = icon .. " " .. name
    btn.TextColor3 = Color3.fromRGB(180, 180, 200)
    btn.TextSize = 12
    btn.LayoutOrder = order
    btn.Parent = tabs
    
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 7)
    
    return btn
end

local homeTab = makeTab("Home", "üè†", 1)
local cheatTab = makeTab("Cheats", "‚ö°", 2)
local playerTab = makeTab("Players", "üë•", 3)

-- HOME TAB
homeTab.MouseButton1Click:Connect(function()
    clearContent()
    homeTab.BackgroundColor3 = Color3.fromRGB(147, 51, 234)
    homeTab.TextColor3 = Color3.fromRGB(255, 255, 255)
    cheatTab.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
    cheatTab.TextColor3 = Color3.fromRGB(180, 180, 200)
    playerTab.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
    playerTab.TextColor3 = Color3.fromRGB(180, 180, 200)
    
    local welcome = Instance.new("TextLabel")
    welcome.Size = UDim2.new(1, -20, 0, 80)
    welcome.Position = UDim2.new(0, 10, 0, 10)
    welcome.BackgroundColor3 = Color3.fromRGB(147, 51, 234)
    welcome.BackgroundTransparency = 0.95
    welcome.BorderSizePixel = 0
    welcome.Font = Enum.Font.GothamBold
    welcome.Text = "üëã Welcome " .. Player.DisplayName .. "!\n\nSTAN UI v3.0 Loaded Successfully!"
    welcome.TextColor3 = Color3.fromRGB(255, 255, 255)
    welcome.TextSize = 13
    welcome.Parent = content
    
    Instance.new("UICorner", welcome).CornerRadius = UDim.new(0, 10)
    
    local info = Instance.new("TextLabel")
    info.Size = UDim2.new(1, -20, 1, -100)
    info.Position = UDim2.new(0, 10, 0, 95)
    info.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
    info.BorderSizePixel = 0
    info.Font = Enum.Font.Gotham
    info.Text = "üìä Status: Active\nüéÆ User: " .. Player.DisplayName .. "\n‚ö° All Features: Unlocked\nüîí Protected: Yes\n\n‚ú® Go to Cheats tab!"
    info.TextColor3 = Color3.fromRGB(200, 200, 220)
    info.TextSize = 12
    info.TextYAlignment = Enum.TextYAlignment.Top
    info.Parent = content
    
    Instance.new("UICorner", info).CornerRadius = UDim.new(0, 10)
    
    local infoPad = Instance.new("UIPadding")
    infoPad.PaddingLeft = UDim.new(0, 15)
    infoPad.PaddingTop = UDim.new(0, 15)
    infoPad.Parent = info
end)

-- CHEATS TAB
local fly, speed, jump, noclip, esp, wallbang = false, false, false, false, false, false

cheatTab.MouseButton1Click:Connect(function()
    clearContent()
    cheatTab.BackgroundColor3 = Color3.fromRGB(147, 51, 234)
    cheatTab.TextColor3 = Color3.fromRGB(255, 255, 255)
    homeTab.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
    homeTab.TextColor3 = Color3.fromRGB(180, 180, 200)
    playerTab.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
    playerTab.TextColor3 = Color3.fromRGB(180, 180, 200)
    
    local scroll = Instance.new("ScrollingFrame")
    scroll.Size = UDim2.new(1, -10, 1, -10)
    scroll.Position = UDim2.new(0, 5, 0, 5)
    scroll.BackgroundTransparency = 1
    scroll.BorderSizePixel = 0
    scroll.ScrollBarThickness = 4
    scroll.ScrollBarImageColor3 = Color3.fromRGB(147, 51, 234)
    scroll.Parent = content
    
    local layout = Instance.new("UIListLayout")
    layout.Padding = UDim.new(0, 6)
    layout.Parent = scroll
    
    local function addToggle(name, callback)
        local frame = Instance.new("Frame")
        frame.Size = UDim2.new(1, -8, 0, 38)
        frame.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
        frame.BorderSizePixel = 0
        frame.Parent = scroll
        
        Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 7)
        
        local label = Instance.new("TextLabel")
        label.Size = UDim2.new(0.65, 0, 1, 0)
        label.Position = UDim2.new(0, 10, 0, 0)
        label.BackgroundTransparency = 1
        label.Font = Enum.Font.GothamBold
        label.Text = name
        label.TextColor3 = Color3.fromRGB(255, 255, 255)
        label.TextSize = 11
        label.TextXAlignment = Enum.TextXAlignment.Left
        label.Parent = frame
        
        local toggle = Instance.new("TextButton")
        toggle.Size = UDim2.new(0, 60, 0, 24)
        toggle.Position = UDim2.new(1, -67, 0.5, -12)
        toggle.BackgroundColor3 = Color3.fromRGB(239, 68, 68)
        toggle.BorderSizePixel = 0
        toggle.Font = Enum.Font.GothamBold
        toggle.Text = "OFF"
        toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
        toggle.TextSize = 10
        toggle.Parent = frame
        
        Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 5)
        
        toggle.MouseButton1Click:Connect(function()
            callback(toggle)
        end)
    end
    
    -- FLY
    addToggle("‚úàÔ∏è Fly", function(btn)
        fly = not fly
        btn.Text = fly and "ON" or "OFF"
        btn.BackgroundColor3 = fly and Color3.fromRGB(34, 197, 94) or Color3.fromRGB(239, 68, 68)
        
        if fly then
            local char = Player.Character
            if char and char:FindFirstChild("HumanoidRootPart") then
                local hrp = char.HumanoidRootPart
                local bv = Instance.new("BodyVelocity", hrp)
                bv.MaxForce = Vector3.new(9e9, 9e9, 9e9)
                local bg = Instance.new("BodyGyro", hrp)
                bg.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
                
                spawn(function()
                    while fly and hrp and hrp.Parent do
                        bg.CFrame = Workspace.CurrentCamera.CFrame
                        local move = Vector3.new()
                        
                        if UIS:IsKeyDown(Enum.KeyCode.W) then
                            move = move + Workspace.CurrentCamera.CFrame.LookVector
                        end
                        if UIS:IsKeyDown(Enum.KeyCode.S) then
                            move = move - Workspace.CurrentCamera.CFrame.LookVector
                        end
                        if UIS:IsKeyDown(Enum.KeyCode.A) then
                            move = move - Workspace.CurrentCamera.CFrame.RightVector
                        end
                        if UIS:IsKeyDown(Enum.KeyCode.D) then
                            move = move + Workspace.CurrentCamera.CFrame.RightVector
                        end
                        if UIS:IsKeyDown(Enum.KeyCode.Space) then
                            move = move + Vector3.new(0, 1, 0)
                        end
                        if UIS:IsKeyDown(Enum.KeyCode.LeftControl) then
                            move = move - Vector3.new(0, 1, 0)
                        end
                        
                        bv.Velocity = move * 50
                        task.wait()
                    end
                    bv:Destroy()
                    bg:Destroy()
                end)
            end
        end
    end)
    
    -- SPEED
    addToggle("üèÉ Speed", function(btn)
        speed = not speed
        btn.Text = speed and "ON" or "OFF"
        btn.BackgroundColor3 = speed and Color3.fromRGB(34, 197, 94) or Color3.fromRGB(239, 68, 68)
        
        if Player.Character and Player.Character:FindFirstChild("Humanoid") then
            Player.Character.Humanoid.WalkSpeed = speed and 100 or 16
        end
    end)
    
    -- JUMP
    addToggle("ü¶ò Jump", function(btn)
        jump = not jump
        btn.Text = jump and "ON" or "OFF"
        btn.BackgroundColor3 = jump and Color3.fromRGB(34, 197, 94) or Color3.fromRGB(239, 68, 68)
        
        if Player.Character and Player.Character:FindFirstChild("Humanoid") then
            Player.Character.Humanoid.JumpPower = jump and 150 or 50
        end
    end)
    
    -- NOCLIP
    addToggle("üëª Noclip", function(btn)
        noclip = not noclip
        btn.Text = noclip and "ON" or "OFF"
        btn.BackgroundColor3 = noclip and Color3.fromRGB(34, 197, 94) or Color3.fromRGB(239, 68, 68)
        
        spawn(function()
            while noclip do
                if Player.Character then
                    for _, part in pairs(Player.Character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                end
                task.wait()
            end
        end)
    end)
    
    -- ESP
    addToggle("üëÅÔ∏è ESP", function(btn)
        esp = not esp
        btn.Text = esp and "ON" or "OFF"
        btn.BackgroundColor3 = esp and Color3.fromRGB(34, 197, 94) or Color3.fromRGB(239, 68, 68)
        
        if esp then
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= Player and plr.Character then
                    local highlight = Instance.new("Highlight", plr.Character)
                    highlight.FillColor = Color3.fromRGB(255, 0, 0)
                end
            end
        else
            for _, plr in pairs(Players:GetPlayers()) do
                if plr.Character then
                    local highlight = plr.Character:FindFirstChildOfClass("Highlight")
                    if highlight then
                        highlight:Destroy()
                    end
                end
            end
        end
    end)
    
    -- WALLBANG
    addToggle("üß± Wallbang", function(btn)
        wallbang = not wallbang
        btn.Text = wallbang and "ON" or "OFF"
        btn.BackgroundColor3 = wallbang and Color3.fromRGB(34, 197, 94) or Color3.fromRGB(239, 68, 68)
        
        for _, v in pairs(Workspace:GetDescendants()) do
            if v:IsA("BasePart") and v.CanCollide then
                v.Transparency = wallbang and 0.7 or 0
            end
        end
    end)
    
    -- INFINITE YIELD
    local iyBtn = Instance.new("TextButton")
    iyBtn.Size = UDim2.new(1, -8, 0, 38)
    iyBtn.BackgroundColor3 = Color3.fromRGB(59, 130, 246)
    iyBtn.BorderSizePixel = 0
    iyBtn.Font = Enum.Font.GothamBold
    iyBtn.Text = "üìú Infinite Yield"
    iyBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    iyBtn.TextSize = 11
    iyBtn.Parent = scroll
    
    Instance.new("UICorner", iyBtn).CornerRadius = UDim.new(0, 7)
    
    iyBtn.MouseButton1Click:Connect(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
    end)
    
    spawn(function()
        while scroll and scroll.Parent do
            scroll.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
            task.wait(0.1)
        end
    end)
end)

-- PLAYERS TAB
playerTab.MouseButton1Click:Connect(function()
    clearContent()
    playerTab.BackgroundColor3 = Color3.fromRGB(147, 51, 234)
    playerTab.TextColor3 = Color3.fromRGB(255, 255, 255)
    homeTab.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
    homeTab.TextColor3 = Color3.fromRGB(180, 180, 200)
    cheatTab.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
    cheatTab.TextColor3 = Color3.fromRGB(180, 180, 200)
    
    local scroll = Instance.new("ScrollingFrame")
    scroll.Size = UDim2.new(1, -10, 1, -10)
    scroll.Position = UDim2.new(0, 5, 0, 5)
    scroll.BackgroundTransparency = 1
    scroll.BorderSizePixel = 0
    scroll.ScrollBarThickness = 4
    scroll.ScrollBarImageColor3 = Color3.fromRGB(147, 51, 234)
    scroll.Parent = content
    
    local layout = Instance.new("UIListLayout")
    layout.Padding = UDim.new(0, 5)
    layout.Parent = scroll
    
    local function updatePlayers()
        for _, v in pairs(scroll:GetChildren()) do
            if v:IsA("TextButton") then
                v:Destroy()
            end
        end
        
        for _, plr in pairs(Players:GetPlayers()) do
            if plr ~= Player then
                local btn = Instance.new("TextButton")
                btn.Size = UDim2.new(1, -8, 0, 36)
                btn.BackgroundColor3 = Color3.fromRGB(35, 35, 48)
                btn.BorderSizePixel = 0
                btn.Font = Enum.Font.GothamBold
                btn.Text = plr.DisplayName .. " (@" .. plr.Name .. ")"
                btn.TextColor3 = Color3.fromRGB(255, 255, 255)
                btn.TextSize = 11
                btn.Parent = scroll
                
                Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 7)
                
                btn.MouseButton1Click:Connect(function()
                    if Player.Character and plr.Character then
                        if Player.Character:FindFirstChild("HumanoidRootPart") and plr.Character:FindFirstChild("HumanoidRootPart") then
                            Player.Character.HumanoidRootPart.CFrame = plr.Character.HumanoidRootPart.CFrame
                        end
                    end
                end)
            end
        end
        
        scroll.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
    end
    
    updatePlayers()
    Players.PlayerAdded:Connect(updatePlayers)
    Players.PlayerRemoving:Connect(updatePlayers)
end)

-- Load Home Tab by default
homeTab.MouseButton1Click:Fire()

-- Notification
pcall(function()
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "STAN UI v3.0";
        Text = "Successfully loaded!";
        Duration = 3;
    })
end)

print("‚úÖ STAN UI v3.0 Loaded Successfully!")
